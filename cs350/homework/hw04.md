---
layout: course_page
title: homework 4
permalink: /350/hw4/
parent_course: 350
---

DUE: Monday Sep 19 at 5pm. Submit to Desire2Learn Dropbox. 

### Simple Cryptanalysis -- Ciphertext-Only Attack

{:.yellow}
NOTE: The information displayed on this page is soley intended for teaching/learning purposes. The purpose for this information is to learn about and understand cybersecurity threats and generalized architectures for common attacks by malicious users. The techniques and code described are widely available on the Internet and in textbooks and other sources intended to inform the public and professional communities about the nature of cybersecurity threats and vulnerabilities.


### Description
You are given (or acquired through other means!) a file containing ciphertext. You are also aware of the cipher method (simple substitution cipher) used to encrypt the file. The cipher method also entails a *known* alphabet (**USE THE ONE BELOW**). Your goal is to process the ciphertext to gain knowledge of the cleartext and the key used to encrypt the ciphertext.


```alphabet =[chr(10)] + [chr(i) for i in range(32, 127)]```

>You should use simple sequence analysis to examine each output in your brute force attack. For example, for each output given by a test key one could search for common grammatical patterns in english text such as "and", "the", " a " or punctuation like ".", or ",". If one of these patterns is located in any test output, the program could report the key and the output for human inspection.

Write a python program that can open a file containing encrypted text that you know was encrypted using a simple substitution cipher (as used in hw5). The script should then attempt to *crack* the encrypted text to produce the cleartext. This script should define a function named ```codecrack```. The function should accept a string containing ciphertext (read from a file) and a range of keys to apply to the ciphertext. The key range should be defined as a tuple. For example, ```(10, 20)``` would attempt to apply keys 10 up to but not including 20. The program should report the key used to encrypt the file and the related cleartext before exiting.

{% highlight python %}def codecrack(ciphertext=None, keyrange=(0, 0)) :
	...{% endhighlight python %}


{:.yellow}
>Utilize your simple sequence analysis code (or use mine below) as a way to detect common words, phrases, or punctuation in each test output. With this, one could print the output when a common pattern is detected allowing the cryptanalysis (you) to inspect the output. There are other possibilities to automate some of this...


### Example Execution:
secret.txt contains 

```fpyi$womiw$erh$wrs{}$tieow 4```

$ python ```decoder.py```

Enter name of file to open and decrypt: ```secret.txt```

Enter sub pattern to target: ```. ```

Program found the following cleartext containing the pattern ```. ```:

``` number of occurences = 3```

``` CLEARTEXT ==> blue skies and snowy peaks```

``` with key of 4 ```


### Simple Sequence Analyzer Sample

{% highlight python %}

def analyzeSeqStr(sequence, pattern):
	freq = 0
	locs = []
	seqlen = len(sequence)
	patlen = len(pattern)
	limit = seqlen - patlen + 1
	
	for i in range(limit):
		subseq = sequence[ i:i+patlen ]  # grab a slice of the list
		
		if pattern == subseq:  # Compare slice to pattern
			freq = freq + 1    # Match found! gather the data.
			locs.append(i)
	
	if locs :
		return {'Matches': freq, 'Locations': locs}
	return {}

{% endhighlight %}